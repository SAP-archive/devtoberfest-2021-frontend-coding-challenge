/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/base/util/deepEqual","sap/m/GroupHeaderListItem","sap/m/StandardListItem","sap/ui/base/ManagedObject"],function(t,e,i,r,n){"use strict";var a=t.ListType;var s={};s.CSS_CLASS="InputWithSuggestions";s.getItemByListItem=function(t,e){return this.getItemBy(t,e,"ListItem")};s.getListItem=function(t){return t&&t.data?t.data(s.CSS_CLASS+"ListItem"):null};s.getItemBy=function(t,i,r){var n;r=s.CSS_CLASS+r;if(!Array.isArray(t)||!i){return null}for(var a=0;a<t.length;a++){n=t[a].data&&t[a].data(r);if(n===i||e(n,i)){return t[a]}}return null};s.getEnabledItems=function(t){if(!Array.isArray(t)){return}return t.filter(function(t){return t.getEnabled&&t.getEnabled()})};s.getSelectableItems=function(t){if(!Array.isArray(t)){return[]}var e=this.getEnabledItems(this.getVisibleItems(t));return e&&e.filter(function(t){return!t.isA("sap.ui.core.SeparatorItem")})};s.getVisibleItems=function(t){var e;if(!Array.isArray(t)){return[]}return t.filter(function(t){e=s.getListItem(t);return e&&e.getVisible()})};s.createListItemFromCoreItem=function(t,e){var u;if(!t){return null}var l=t.getTextDirection();if(t.isA("sap.ui.core.SeparatorItem")){u=new i({title:n.escapeSettingsValue(t.getText()),type:a.Inactive,titleTextDirection:l})}else if(t.isA("sap.ui.core.Item")){u=new r({type:a.Active,visible:t.getEnabled(),titleTextDirection:l,infoTextDirection:l});u.setTitle(t.getText());u.setInfo(t.getAdditionalText&&e?t.getAdditionalText():"");u.setTooltip(t.getTooltip())}else{return null}t.data(s.CSS_CLASS+"ListItem",u);t.getCustomData().forEach(function(t){u.addCustomData(t.clone(null,null,{cloneBindings:false}))});return u};s.fillList=function(t,e,i){if(!e||!Array.isArray(t)){return}if(e.isA("sap.m.Table")){e.removeSelections(true)}else{e.destroyItems()}t.forEach(function(t){e.addItem(i(t))})};return s});