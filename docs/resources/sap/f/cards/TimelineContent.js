/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/cards/BaseListContent","sap/suite/ui/commons/Timeline","sap/suite/ui/commons/library","sap/suite/ui/commons/TimelineItem","sap/ui/base/ManagedObject","sap/f/cards/BindingHelper","sap/f/cards/IconFormatter"],function(e,t,i,n,o,s,r){"use strict";var a=e.extend("sap.f.cards.TimelineContent",{renderer:{}});a.prototype.exit=function(){e.prototype.exit.apply(this,arguments);if(this._oTimeLineItemTemplate){this._oTimeLineItemTemplate.destroy();this._oTimeLineItemTemplate=null}};a.prototype._getTimeline=function(){var e=this.getAggregation("_content");if(this._bIsBeingDestroyed){return null}if(!e){e=new t({id:this.getId()+"-Timeline",showHeaderBar:false,enableScroll:false});this.setAggregation("_content",e)}return e};a.prototype.setConfiguration=function(t){e.prototype.setConfiguration.apply(this,arguments);if(!t){return this}if(t.items){this._setStaticItems(t.items);return this}if(t.item){this._setItem(t.item)}return this};a.prototype.onDataChanged=function(){this._checkHiddenNavigationItems(this.getConfiguration().item)};a.prototype._setItem=function(e){var t={userNameClickable:false,title:e.title&&e.title.value,text:e.description&&e.description.value,dateTime:e.dateTime&&e.dateTime.value,userName:e.owner&&e.owner.value,icon:e.icon&&e.icon.src};if(e.ownerImage&&e.ownerImage.value){t.userPicture=s.formattedProperty(e.ownerImage.value,function(e){return r.formatSrc(e,this._sAppId)}.bind(this))}this._oTimeLineItemTemplate=new n(t);this._oActions.attach(e,this);var i={template:this._oTimeLineItemTemplate};this._filterHiddenNavigationItems(e,i);this._bindAggregation("content",this._getTimeline(),i);return this};a.prototype._setStaticItems=function(e){var t=this._getTimeline(),i;e.forEach(function(e){i=new n({title:e.title,text:e.description,userPicture:e.ownerImage,dateTime:e.dateTime,userName:e.owner,icon:e.icon});t.addContent(i)})};a.prototype.getInnerList=function(){return this._getTimeline()};return a});