/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/library","sap/f/cards/BaseContent","sap/ui/core/HTML","sap/f/cards/BindingResolver"],function(t,i,e,n){"use strict";var r=t.cards.AreaType;var o=i.extend("sap.f.cards.AnalyticsCloudContent",{renderer:{}});o.prototype.init=function(){i.prototype.init.apply(this,arguments);var t=this.getId()+"-highchartContainer";this._oHighchartContainer=new e(t,{content:"<div id="+t+" style='height:100%; width:100%'></div>"});this.setAggregation("_content",this._oHighchartContainer);this.fireEvent("_actionContentReady")};o.prototype.exit=function(){i.prototype.exit.apply(this,arguments);if(this._oHighchart){this._oHighchart.destroy();this._oHighchart=null}if(this._oHighchartContainer){this._oHighchartContainer.destroy();this._oHighchartContainer=null}};o.prototype.setConfiguration=function(t){i.prototype.setConfiguration.apply(this,arguments);this._oActions.setAreaType(r.Content);this._oActions.attach(t,this)};o.prototype.onAfterRendering=function(){this._createHighchart()};o.prototype._createHighchart=function(){var t=this.getParent(),i=this.getConfiguration(),e=this.getBindingContext(),r,o;if(!t.isReady()){t.attachEventOnce("_ready",this._createHighchart,this);return}if(!window.Highcharts){this._handleError("Highcharts library is not available. Could not initialize AnalyticsCloud card content.");return}if(e){r=e.getPath()}o=n.resolveValue(i.options,this.getModel(),r);this._oHighchart=new window.Highcharts.Chart(this._oHighchartContainer.getId(),o)};return o});