/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/cards/BaseContent","sap/f/cards/BindingResolver","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/Log"],function(e,t,i,r,n){"use strict";var a=e.extend("sap.f.cards.BaseListContent",{renderer:{}});a.prototype.setConfiguration=function(t,i){if(!t){return this}var r=this.getInnerList(),n=t.maxItems;if(r&&n){r.setGrowing(true);r.setGrowingThreshold(parseInt(n));r.addStyleClass("sapFCardMaxItems")}return e.prototype.setConfiguration.apply(this,arguments)};a.prototype.getInnerList=function(){return null};a.prototype._filterHiddenNavigationItems=function(e,t){if(!e.actions){return}var n=e.actions[0];if(!(n&&n.service&&n.type==="Navigation")){return}var a=new i("_card_item_hidden",r.EQ,false);this._awaitEvent("_filterNavItemsReady");t.filters=[a]};a.prototype._checkHiddenNavigationItems=function(e){if(!e.actions){return}var i=this.getModel(),r=this.getBindingContext().getPath(),a=i.getProperty(r),s=e.actions[0],o=r.trim().replace(/\/$/,""),d=[],c;if(!(s&&s.service&&s.type==="Navigation")){return}if(s.service==="object"){c=s.service.name}else{c=s.service}a.forEach(function(e,i){var r=t.resolveValue(s.parameters,this.getModel(),o+"/"+i);if(e._card_item_hidden!==undefined){return}e._card_item_hidden=false;d.push(this._oServiceManager.getService(c).then(function(t){var i=this.getModel();if(!t.hidden){return Promise.resolve()}return t.hidden({parameters:r}).then(function(t){e._card_item_hidden=t;i.checkUpdate(true)})}.bind(this)).catch(function(e){n.error(e)}))}.bind(this));i.checkUpdate(true);Promise.all(d).then(function(){this.fireEvent("_filterNavItemsReady")}.bind(this))};return a});