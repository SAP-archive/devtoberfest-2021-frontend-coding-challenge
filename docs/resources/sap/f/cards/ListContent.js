/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/library","sap/f/cards/BaseListContent","sap/m/List","sap/m/StandardListItem","sap/ui/base/ManagedObject","sap/f/cards/IconFormatter","sap/f/cards/BindingHelper"],function(t,i,e,n,o,s,a){"use strict";var r=t.cards.AreaType;var p=i.extend("sap.f.cards.ListContent",{renderer:{}});p.prototype._getList=function(){if(this._bIsBeingDestroyed){return null}var t=this.getAggregation("_content");if(!t){t=new e({id:this.getId()+"-list",growing:false,showNoData:false,showSeparators:"None"});this.setAggregation("_content",t)}return t};p.prototype.init=function(){i.prototype.init.apply(this,arguments);var t=this._getList();var e=this;t.attachUpdateFinished(function(){if(e._iVisibleItems){var i=t.getItems();for(var n=e._iVisibleItems+1;n<i.length;n++){i[n].setVisible(false)}}});this._oItemTemplate=new n({iconDensityAware:false})};p.prototype.exit=function(){i.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null}};p.prototype.setConfiguration=function(t){i.prototype.setConfiguration.apply(this,arguments);if(!t){return this}if(t.items){this._setStaticItems(t.items);return this}if(t.item){this._setItem(t.item)}return this};p.prototype.onDataChanged=function(){this._checkHiddenNavigationItems(this.getConfiguration().item)};p.prototype._setItem=function(t){var i={iconDensityAware:false,title:t.title&&(t.title.value||t.title),description:t.description&&(t.description.value||t.description),highlight:t.highlight,info:t.info&&t.info.value,infoState:t.info&&t.info.state};if(t.icon&&t.icon.src){i.icon=a.formattedProperty(t.icon.src,function(t){return s.formatSrc(t,this._sAppId)}.bind(this))}this._oItemTemplate=new n(i);this._oActions.setAreaType(r.ContentItem);this._oActions.attach(t,this);var e={template:this._oItemTemplate};this._filterHiddenNavigationItems(t,e);this._bindAggregation("items",this._getList(),e)};p.prototype._setStaticItems=function(t){var i=this._getList();t.forEach(function(t){var e=new n({iconDensityAware:false,title:t.title?t.title:"",description:t.description?t.description:"",icon:t.icon?t.icon:"",infoState:t.infoState?t.infoState:"None",info:t.info?t.info:"",highlight:t.highlight?t.highlight:"None"});if(t.action){e.setType("Navigation");if(t.action.url){e.attachPress(function(){window.open(t.action.url,t.target||"_blank")})}}i.addItem(e)});this.fireEvent("_actionContentReady")};p.prototype.getInnerList=function(){return this._getList()};return p});